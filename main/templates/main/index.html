{% extends 'main/base.html' %}
{% block title %}Folik ‚Äî —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω —Ç–µ—Ö–Ω—ñ–∫–∏ –≤ –£–∫—Ä–∞—ó–Ω—ñ{% endblock %}

{% block content %}


{% block extra_css %}
<style>
/* --- Hero –∞–¥–∞–ø—Ç–∞—Ü—ñ—è --- */
.hero {
    padding: 120px 40px 60px;
    text-align: center;
}

.hero h1 {
    font-size: 2rem;
    line-height: 1.3;
}

.hero p {
    font-size: 1rem;
    margin: 15px 0 20px;
}

.hero-btn {
    display: inline-block;
    padding: 12px 25px;
    border-radius: 10px;
    background: #e50914;
    color: #fff;
    font-weight: 700;
    text-decoration: none;
    transition: 0.3s;
}

.hero-btn:hover {
    background: #ff1414;
}

/* --- –ü—Ä–æ–¥—É–∫—Ç–∏ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è --- */
.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 14px;
    padding: 10px 0;
}

.product-card {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    height: auto; /* –≥–Ω—É—á–∫–∞ –≤–∏—Å–æ—Ç–∞ */
}

.product-image-wrapper {
    padding-top: 100%; /* –∫–≤–∞–¥—Ä–∞—Ç 1:1 */
}

.product-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 10px;
    transition: transform 0.3s ease;
}

.product-card:hover .product-image {
    transform: scale(1.05);
}

.product-info {
    padding: 10px;
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.product-title {
    font-size: 0.95rem;
    line-height: 1.2;
    display: -webkit-box;
    -webkit-line-clamp: 2; /* –º–∞–∫—Å–∏–º—É–º 2 —Ä—è–¥–∫–∏ */
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.product-price {
    font-size: 1.1rem;
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
    color: #46d369;
}

.old-price {
    text-decoration: line-through;
    font-size: 0.9rem;
    color: #888;
}

/* Hero —Ç–∞ –∫–∞—Ä—Ç–∫–∏ –¥–ª—è –¥—É–∂–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ */
@media (max-width: 480px) {
    .hero {
        padding: 80px 20px 40px;
    }

    .hero h1 {
        font-size: 1.6rem;
    }

    .hero p {
        font-size: 0.9rem;
    }

    .hero-btn {
        padding: 10px 20px;
        font-size: 0.9rem;
    }

    .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 10px;
    }

    .product-title {
        font-size: 0.9rem;
    }

    .product-price {
        font-size: 1rem;
    }

    .old-price {
        font-size: 0.8rem;
    }
}
</style>
{% endblock %}


<!-- Hero-—Å–µ–∫—Ü–∏—è -->
<div class="hero">
    <div class="hero-content">
        <h1>–ù–∞–π–∫—Ä–∞—â–∞ —Ç–µ—Ö–Ω—ñ–∫–∞ –¥–ª—è –∂–∏—Ç—Ç—è —Ç–∞ —Ä–æ–±–æ—Ç–∏</h1>
        <p>–°–º–∞—Ä—Ç—Ñ–æ–Ω–∏, –Ω–æ—É—Ç–±—É–∫–∏, –∞–∫—Å–µ—Å—É–∞—Ä–∏ ‚Äî –ª–∏—à–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω—ñ —Ç–æ–≤–∞—Ä–∏</p>
        <a href="{% url 'products' %}" class="hero-btn">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–æ–≤–∞—Ä–∏</a>
    </div>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="container">
    <section class="featured-products">
        <h2>üî• –ù–∞–π–∫—Ä–∞—â—ñ —Ç–æ–≤–∞—Ä–∏</h2>

        <div class="products-grid">
            {% for product in featured_products %}
            <div class="product-card">
                <a href="{% url 'product_detail' product.id %}" class="product-link">
                    <div class="product-image-wrapper">
                        <img 
                            src="{{ product.image.url }}" 
                            alt="{{ product.title }}" 
                            class="product-image"
                            loading="lazy"
                        >
                    </div>

                    <div class="product-info">
                        <h3 class="product-title">{{ product.title }}</h3>

                        <div class="product-price">
                            {% if product.discount_price %}
                                <span class="current-price">{{ product.discount_price|floatformat:0 }} ‚Ç¥</span>
                                <span class="old-price">{{ product.price|floatformat:0 }} ‚Ç¥</span>
                            {% else %}
                                <span class="current-price">{{ product.price|floatformat:0 }} ‚Ç¥</span>
                            {% endif %}
                        </div>
                    </div>
                </a>
            </div>
            {% empty %}
            <p class="no-products">–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤</p>
            {% endfor %}
        </div>
    </section>
</div>

{% endblock %}